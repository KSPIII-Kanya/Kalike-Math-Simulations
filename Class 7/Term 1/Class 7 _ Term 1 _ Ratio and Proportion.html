<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>роХройрпНроп роЪроорпНрокрпВро░рпНрогро╛ родро┐роЯрпНроЯроорпН - роирпЗро░рпН рооро▒рпНро▒рпБроорпН роОродро┐ро░рпН ро╡ро┐роХро┐родроЩрпНроХро│рпН</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arima:wght@400;700&family=Noto+Sans+Tamil:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans Tamil', sans-serif;
            background-color: #f0f4f8;
        }
        h1, h2, h3, h4 {
            font-family: 'Arima', cursive;
        }
        .tab-button {
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
            padding-bottom: 8px;
        }
        .tab-button.active {
            border-bottom-color: #4f46e5;
            color: #4f46e5;
            font-weight: 700;
        }
        .simulation-card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            padding: 2rem;
            transition: all 0.3s ease;
        }
        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #4f46e5;
            cursor: pointer;
        }
        .visual-container {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            align-items: center;
            justify-content: center;
            min-height: 80px;
            border: 2px dashed #e0e0e0;
            padding: 0.5rem;
            border-radius: 0.5rem;
            background: #f9fafb;
            flex-grow: 1;
        }
        .visual-item {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }
        .graph-bar {
            background-color: #6366f1;
            transition: all 0.5s ease-in-out;
            border-radius: 4px;
        }
        .quiz-option {
            transition: background-color 0.2s;
        }
        .quiz-option.selected {
            background-color: #c7d2fe;
            border-color: #818cf8;
        }
        .quiz-option.correct {
            background-color: #dcfce7;
            border-color: #4ade80;
        }
        .quiz-option.incorrect {
            background-color: #fee2e2;
            border-color: #f87171;
        }
        .quiz-nav-btn {
            background-color: #6366f1;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .quiz-nav-btn:disabled {
            background-color: #a5b4fc;
            cursor: not-allowed;
        }
        .quiz-nav-btn:hover:not(:disabled) {
            background-color: #4338ca;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-8 p-6 bg-white rounded-xl shadow-md">
            <h1 class="text-3xl md:text-4xl font-bold text-indigo-700">роХройрпНроп роЪроорпНрокрпВро░рпНрогро╛ родро┐роЯрпНроЯроорпН / роХройрпНропро╛ рокрпЖрогрпНроХро│рпН роХро▓рпНро╡ро┐ родро┐роЯрпНроЯроорпН</h1>
            <p class="mt-2 text-lg text-gray-600">роЗродрпНродро┐роЯрпНроЯроорпН TITAN рооро▒рпНро▒рпБроорпН KALIKE роиро┐ро▒рпБро╡ройроЩрпНроХро│ро┐ройрпН рокроЩрпНроХро│ро┐рокрпНрокрпБроЯройрпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯрпБроХро┐ро▒родрпБ</p>
            <div class="mt-4 text-sm font-semibold bg-indigo-100 text-indigo-800 inline-block px-4 py-2 rounded-full">
                <span>ро╡роХрпБрокрпНрокрпБ: 7</span> |
                <span>рокро░рпБро╡роорпН: 1</span> |
                <span>родро▓рпИрокрпНрокрпБ: роирпЗро░рпН рооро▒рпНро▒рпБроорпН роОродро┐ро░рпН ро╡ро┐роХро┐родроЩрпНроХро│рпН</span>
            </div>
        </header>

        <div class="mb-6 bg-white rounded-lg shadow-sm">
            <nav class="flex justify-center flex-wrap space-x-2 md:space-x-8 p-4" id="tabs">
                <button class="tab-button active" data-tab="intro">роЕро▒ро┐роорпБроХроорпН</button>
                <button class="tab-button" data-tab="direct">роирпЗро░рпН ро╡ро┐роХро┐родроорпН</button>
                <button class="tab-button" data-tab="inverse">роОродро┐ро░рпН ро╡ро┐роХро┐родроорпН</button>
                <button class="tab-button" data-tab="comparison">роХро▓рокрпНрокрпБроХрпН роХрогроХрпНроХрпБроХро│рпН</button>
            </nav>
        </div>

        <main id="tab-content">
            <!-- Introduction Tab -->
            <div id="intro-content" class="tab-pane active">
                <div class="simulation-card">
                    <h2 class="text-2xl md:text-3xl font-bold mb-6 text-center text-indigo-600">ро╡ро┐роХро┐родроорпН рооро▒рпНро▒рпБроорпН ро╡ро┐роХро┐родроЪрпНроЪроороорпН</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="p-6 bg-indigo-50 rounded-lg shadow-inner flex flex-col h-full">
                            <h3 class="text-xl font-semibold mb-4 text-indigo-800 text-center">ро╡ро┐роХро┐родродрпНродрпИ роЖро░ро╛ропрпБроЩрпНроХро│рпН</h3>
                            <p class="text-md leading-relaxed mb-6 text-center">роЗро░рогрпНроЯрпБ роЕро│ро╡рпБроХро│рпИ роТрокрпНрокро┐роЯрпБро╡родрпЗ ро╡ро┐роХро┐родроорпН. ро╕рпНро▓рпИроЯро░рпНроХро│рпИ роироХро░рпНродрпНродро┐, рокрпКро░рпБроЯрпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИ рооро╛ро▒рпБроорпНрокрпЛродрпБ ро╡ро┐роХро┐родроорпН роОрокрпНрокроЯро┐ рооро╛ро▒рпБроХро┐ро▒родрпБ роОройрпНрокродрпИроХрпН роХро╡ройро┐ропрпБроЩрпНроХро│рпН.</p>
                            <div class="mb-4">
                                <label for="ratio-slider-1" class="font-semibold">рокрпКро░рпБро│рпН 1 (ЁЯНО): <span id="ratio-count-1" class="font-bold text-indigo-700 text-xl">5</span></label>
                                <input type="range" min="1" max="15" value="5" class="slider" id="ratio-slider-1">
                            </div>
                            <div class="mb-6">
                                <label for="ratio-slider-2" class="font-semibold">рокрпКро░рпБро│рпН 2 (ЁЯНМ): <span id="ratio-count-2" class="font-bold text-indigo-700 text-xl">3</span></label>
                                <input type="range" min="1" max="15" value="3" class="slider" id="ratio-slider-2">
                            </div>
                            <div class="flex justify-center items-center gap-4 text-4xl flex-wrap mt-auto">
                                <div id="ratio-visual-1" class="visual-container text-2xl"></div>
                                <div class="font-bold text-gray-500">:</div>
                                <div id="ratio-visual-2" class="visual-container text-2xl"></div>
                            </div>
                            <p class="mt-4 text-3xl font-bold text-indigo-900 text-center" id="ratio-text">5 : 3</p>
                        </div>
                        <div class="p-6 bg-purple-50 rounded-lg shadow-inner flex flex-col h-full">
                            <h3 class="text-xl font-semibold mb-4 text-purple-800 text-center">ро╡ро┐роХро┐родроЪрпНроЪроородрпНродрпИ роЖро░ро╛ропрпБроЩрпНроХро│рпН</h3>
                             <p class="text-md leading-relaxed mb-6 text-center">роЗро░рогрпНроЯрпБ ро╡ро┐роХро┐родроЩрпНроХро│рпН роЪроорооро╛роХ роЗро░рпБроирпНродро╛ро▓рпН, роЕро╡рпИ ро╡ро┐роХро┐родроЪрпНроЪроороорпН. роХрпЛроЯро┐ роЙро▒рпБрокрпНрокрпБроХро│ро┐ройрпН рокрпЖро░рпБроХрпНроХро▒рпНрокро▓ройрпБроорпН (a├Чd), роироЯрпБ роЙро▒рпБрокрпНрокрпБроХро│ро┐ройрпН рокрпЖро░рпБроХрпНроХро▒рпНрокро▓ройрпБроорпН (b├Чc) роЪроорооро╛роХ роЙро│рпНро│родро╛ роОройроЪрпН роЪрпЛродро┐роХрпНроХро╡рпБроорпН.</p>
                            <div class="grid grid-cols-2 gap-x-4 gap-y-3 mb-4">
                                <div>
                                    <label for="prop-slider-a" class="font-semibold">a (ЁЯНО): <span id="prop-count-a">2</span></label>
                                    <input type="range" min="1" max="10" value="2" class="slider" id="prop-slider-a">
                                </div>
                                <div>
                                    <label for="prop-slider-b" class="font-semibold">b (ЁЯНМ): <span id="prop-count-b">4</span></label>
                                    <input type="range" min="1" max="10" value="4" class="slider" id="prop-slider-b">
                                </div>
                                <div>
                                    <label for="prop-slider-c" class="font-semibold">c (ЁЯНК): <span id="prop-count-c">3</span></label>
                                    <input type="range" min="1" max="10" value="3" class="slider" id="prop-slider-c">
                                </div>
                                <div>
                                    <label for="prop-slider-d" class="font-semibold">d (ЁЯНЗ): <span id="prop-count-d">6</span></label>
                                    <input type="range" min="1" max="10" value="6" class="slider" id="prop-slider-d">
                                </div>
                            </div>
                            <div class="mt-auto">
                                <div class="flex items-center justify-center gap-2">
                                    <div id="prop-visual-a" class="visual-container"></div>
                                    <span class="font-bold text-2xl">:</span>
                                    <div id="prop-visual-b" class="visual-container"></div>
                                </div>
                                <div class="flex items-center justify-center text-4xl font-bold my-2">::</div>
                                <div class="flex items-center justify-center gap-2">
                                    <div id="prop-visual-c" class="visual-container"></div>
                                    <span class="font-bold text-2xl">:</span>
                                    <div id="prop-visual-d" class="visual-container"></div>
                                </div>
                                <div id="proportion-result" class="mt-4 p-3 rounded-lg text-center w-full"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tabs with quiz -->
            <div id="direct-content" class="tab-pane hidden"></div>
            <div id="inverse-content" class="tab-pane hidden"></div>
            <div id="comparison-content" class="tab-pane hidden"></div>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- Data for Quizzes ---
    const directQuestions = [
        { q: '8 роЖрокрпНрокро┐ро│рпНроХро│ро┐ройрпН ро╡ро┐ро▓рпИ тВ╣56 роОройро┐ро▓рпН, 12 роЖрокрпНрокро┐ро│рпНроХро│ро┐ройрпН ро╡ро┐ро▓рпИ роОройрпНрой?', o: ['тВ╣72', 'тВ╣84', 'тВ╣96'], a: 1 },
        { q: 'рокро┤роЩрпНроХро│рпН роиро┐ро▒рпИроирпНрод роТро░рпБ рокрпЖроЯрпНроЯро┐ропро┐ройрпН роОроЯрпИ 3.5 роХро┐.роХро┐ роОройро┐ро▓рпН, роЕродрпЗ роЕро│ро╡рпБро│рпНро│ 6 рокрпЖроЯрпНроЯро┐роХро│ро┐ройрпН роОроЯрпИ роОройрпНрой?', o: ['18 роХро┐.роХро┐', '24 роХро┐.роХро┐', '21 роХро┐.роХро┐'], a: 2 },
        { q: 'роТро░рпБ роороХро┐ро┤рпБроирпНродрпБ 60 роХро┐.роорпА родрпВро░родрпНродрпИроХрпН роХроЯроХрпНроХ 3 ро▓ро┐роЯрпНроЯро░рпН рокрпЖроЯрпНро░рпЛро▓рпН родрпЗро╡рпИрокрпНрокроЯрпБроХро┐ро▒родрпБ. 200 роХро┐.роорпА родрпВро░родрпНродрпИроЪрпН роЪрпЖройрпНро▒роЯрпИроп, родрпЗро╡рпИропро╛рой рокрпЖроЯрпНро░рпЛро▓ро┐ройрпН роЕро│ро╡рпБ роОройрпНрой?', o: ['10 ро▓ро┐роЯрпНроЯро░рпН', '12 ро▓ро┐роЯрпНроЯро░рпН', '8 ро▓ро┐роЯрпНроЯро░рпН'], a: 0 },
        { q: '7 роорпА роЕро│ро╡рпБро│рпНро│ родрпБрогро┐ропро┐ройрпН ро╡ро┐ро▓рпИ тВ╣294 роОройро┐ро▓рпН, 5 роорпА роЕро│ро╡рпБро│рпНро│ родрпБрогро┐ропро┐ройрпН ро╡ро┐ро▓рпИ роОройрпНрой?', o: ['тВ╣210', 'тВ╣200', 'тВ╣225'], a: 0 },
        { q: 'роУро░рпН роЗропроирпНродро┐ро░роорпН 600 рокро╛роЯрпНроЯро┐ро▓рпНроХро│рпИ 5 роорогро┐ роирпЗро░родрпНродро┐ро▓рпН роиро┐ро░рокрпНрокрпБроХро┐ро▒родрпБ. роОройро┐ро▓рпН, роЕро╡рпНро╡ро┐ропроирпНродро┐ро░роорпН, 3 роорогро┐ роирпЗро░родрпНродро┐ро▓рпН роиро┐ро░рокрпНрокрпБроорпН рокро╛роЯрпНроЯро┐ро▓рпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИ роОройрпНрой?', o: ['360', '300', '400'], a: 0 },
        { q: 'роТро░рпБ роЯроЪройрпН (12) ро╡ро╛ро┤рпИрокрпНрокро┤роЩрпНроХро│ро┐ройрпН ро╡ро┐ро▓рпИ тВ╣20 роОройро┐ро▓рпН, 48 ро╡ро╛ро┤рпИрокрпНрокро┤роЩрпНроХро│ро┐ройрпН ро╡ро┐ро▓рпИ роОройрпНрой?', o: ['тВ╣60', 'тВ╣80', 'тВ╣100'], a: 1 },
        { q: '21 рооро╛рогро╡ро░рпНроХро│рпБроХрпНроХрпБ тВ╣840 роирпБро┤рпИро╡рпБроХрпН роХроЯрпНроЯрогрооро╛роХроЪрпН роЪрпЖро▓рпБродрпНродрокрпНрокроЯрпНроЯродрпБ. тВ╣1680 роР роирпБро┤рпИро╡рпБроХрпН роХроЯрпНроЯрогрооро╛роХроЪрпН роЪрпЖро▓рпБродрпНродро┐ройро╛ро▓рпН роОродрпНродройрпИ рооро╛рогро╡ро░рпНроХро│рпН роЕроХрпНроХро╛роЯрпНроЪро┐ропрпИроХрпН роХро╛рог роорпБроЯро┐ропрпБроорпН?', o: ['38', '45', '42'], a: 2 },
        { q: '120 роЖроЯрпНроХро│рпН 8 роорпБро▒рпИ рооро┐ройрпН родрпВроХрпНроХро┐ропро┐ро▓рпН роЪрпЖройрпНро▒ройро░рпН. рооро┐ройрпН родрпВроХрпНроХро┐, 12 роорпБро▒рпИ роЪрпЖройрпНро▒ро╛ро▓рпН роОродрпНродройрпИ роЖроЯрпНроХро│рпН роЪрпЖройрпНро▒ро┐ро░рпБрокрпНрокро░рпН?', o: ['180', '160', '200'], a: 0 },
        { q: '8 роорпА роирпАро│роорпБро│рпНро│ роХроорпНрокродрпНродро┐ройрпН роиро┐ро┤ро▓ро┐ройрпН роирпАро│роорпН 6 роорпА. роЕродрпЗ роирпЗро░родрпНродро┐ро▓рпН, 30 роорпА роиро┐ро┤ро▓рпН роПро▒рпНрокроЯрпБродрпНродрпБроорпН рооро▒рпНро▒рпКро░рпБ роХроорпНрокродрпНродро┐ройрпН роирпАро│роорпН роОро╡рпНро╡ро│ро╡рпБ?', o: ['40 роорпА', '35 роорпА', '45 роорпА'], a: 0 },
        { q: 'роУро░рпН роЕроЮрпНроЪро▒рпНроХро╛ро░ро░рпН 738 роХроЯро┐родроЩрпНроХро│рпИ 6 роорогро┐роирпЗро░родрпНродро┐ро▓рпН рокро┐ро░ро┐роХрпНроХро┐ро▒ро╛ро░рпН роОройро┐ро▓рпН, роЕро╡ро░рпН 9 роорогро┐ роирпЗро░родрпНродро┐ро▓рпН роОродрпНродройрпИ роХроЯро┐родроЩрпНроХро│рпИрокрпН рокро┐ро░ро┐рокрпНрокро╛ро░рпН?', o: ['1107', '1000', '1200'], a: 0 },
    ];

    const inverseQuestions = [
        { q: 'роТро░рпБ рокрпЖроЯрпНро░рпЛро▓рпН родрпКроЯрпНроЯро┐ропрпИ 16 роХрпБро┤ро╛ропрпНроХро│рпН 18 роиро┐рооро┐роЯроЩрпНроХро│ро┐ро▓рпН роиро┐ро░рокрпНрокрпБроХро┐ройрпНро▒рой. 9 роХрпБро┤ро╛ропрпНроХро│рпН роЕродрпЗ родрпКроЯрпНроЯро┐ропрпИ роОродрпНродройрпИ роиро┐рооро┐роЯроЩрпНроХро│ро┐ро▓рпН роиро┐ро░рокрпНрокрпБроорпН?', o: ['32 роиро┐рооро┐роЯроЩрпНроХро│рпН', '24 роиро┐рооро┐роЯроЩрпНроХро│рпН', '36 роиро┐рооро┐роЯроЩрпНроХро│рпН'], a: 0 },
        { q: '40 ро╡рпЗро▓рпИропро╛роЯрпНроХро│рпН роТро░рпБ ро╡рпЗро▓рпИропрпИ 8 роиро╛ро│рпНроХро│ро┐ро▓рпН роорпБроЯро┐рокрпНрокро╛ро░рпНроХро│рпН роОройро┐ро▓рпН, роЕродрпЗ ро╡рпЗро▓рпИропрпИ 4 роиро╛ро│рпНроХро│ро┐ро▓рпН роорпБроЯро┐роХрпНроХродрпН родрпЗро╡рпИропро╛рой ро╡рпЗро▓рпИропро╛роЯрпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИ роОройрпНрой?', o: ['60', '80', '100'], a: 1 },
        { q: 'роТро░рпБ роирпАро░рпНродрпНродрпЗроХрпНроХродрпН родрпКроЯрпНроЯро┐ропрпИ роиро┐ро▒рпИрокрпНрокродро▒рпНроХрпБ 6 роХрпБро┤ро╛ропрпНроХро│рпН 90 роиро┐рооро┐роЯроорпН роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНроХро┐ройрпНро▒рой. роТро░рпБ роХрпБро┤ро╛ропрпИ роЕроЯрпИродрпНродрпБро╡ро┐роЯрпНроЯро╛ро▓рпН (5 роХрпБро┤ро╛ропрпНроХро│рпН) роЕродрпЗ родрпКроЯрпНроЯро┐ропрпИ роиро┐ро▒рпИроХрпНроХ роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНро│рпБроорпН роХро╛ро▓роорпН роОро╡рпНро╡ро│ро╡рпБ?', o: ['100 роиро┐рооро┐роЯроЩрпНроХро│рпН', '112 роиро┐рооро┐роЯроЩрпНроХро│рпН', '108 роиро┐рооро┐роЯроЩрпНроХро│рпН'], a: 2 },
        { q: 'роТро░рпБ ро╡ро┐ро╡роЪро╛ропро┐ропро┐роЯроорпН 144 ро╡ро╛родрпНродрпБроХро│рпБроХрпНроХрпБ 28 роиро╛роЯрпНроХро│рпБроХрпНроХрпБродрпН родрпЗро╡рпИропро╛рой роЙрогро╡рпБ роЙро│рпНро│родрпБ. роЕро╡ро░рпН 32 ро╡ро╛родрпНродрпБроХро│рпИ ро╡ро┐ро▒рпНро▒рпБро╡ро┐роЯрпНроЯро╛ро░рпН (112 ро╡ро╛родрпНродрпБроХро│рпН). роорпАродроорпБро│рпНро│ роЙрогро╡рпБ роОродрпНродройрпИ роиро╛роЯрпНроХро│рпБроХрпНроХрпБрокрпН рокрпЛродрпБрооро╛ройродро╛роХ роЗро░рпБроХрпНроХрпБроорпН?', o: ['36', '32', '40'], a: 0 },
        { q: 'роТро░рпБ роХрпБро┤ро┐ ро╡рпЖроЯрпНроЯ 10 роЗропроирпНродро┐ро░роЩрпНроХро│рпН 60 роиро╛ро│рпНроХро│рпН роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНроХро┐ройрпНро▒рой. 30 роЗропроирпНродро┐ро░роЩрпНроХро│рпН роЕродрпЗ роХрпБро┤ро┐ропрпИ ро╡рпЖроЯрпНроЯ роОродрпНродройрпИ роиро╛ро│рпНроХро│ро╛роХрпБроорпН?', o: ['20', '30', '15'], a: 0 },
        { q: '40 рооро╛рогро╡ро░рпНроХро│рпН роТро░рпБ ро╡ро┐роЯрпБродро┐ропро┐ро▓рпН родроЩрпНроХро┐ропрпБро│рпНро│ройро░рпН. роЕро╡ро░рпНроХро│рпБроХрпНроХрпБ 30 роиро╛ро│рпНроХро│рпБроХрпНроХрпБродрпН родрпЗро╡рпИропро╛рой роЙрогро╡рпБрокрпН рокрпКро░рпБро│рпН роЙро│рпНро│родрпБ. рооро╛рогро╡ро░рпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИ роЗро░рпБроороЯроЩрпНроХро╛роХ (80) рооро╛ро▒ро┐ройро╛ро▓рпН роЕро╡рпНро╡рпБрогро╡рпБрокрпН рокрпКро░рпБро│рпН роОродрпНродройрпИ роиро╛ро│рпНроХро│рпБроХрпНроХрпБрокрпН рокрпЛродрпБрооро╛ройродро╛роХ роЗро░рпБроХрпНроХрпБроорпН?', o: ['20 роиро╛роЯрпНроХро│рпН', '15 роиро╛роЯрпНроХро│рпН', '10 роиро╛роЯрпНроХро│рпН'], a: 1 },
        { q: '500 роХро┐ро░ро╛роорпН роОроЯрпИропрпБро│рпНро│ 8 роЪро┐рокрпНрокроЩрпНроХро│рпИ роЕройрпБрокрпНрок рокрогроорпН роЙро│рпНро│родрпБ. роЕродрпЗ рокрогродрпНродро┐ро▓рпН 40 роЪро┐рокрпНрокроЩрпНроХро│рпИ роЕройрпБрокрпНрокро┐ройро╛ро▓рпН, роТро░рпБ роЪро┐рокрпНрокродрпНродро┐ройрпН роОроЯрпИ роОро╡рпНро╡ро│ро╡рпБ роЗро░рпБроХрпНроХрпБроорпН?', o: ['150 роХро┐', '120 роХро┐', '100 роХро┐'], a: 2 },
        { q: 'роТро░рпБ родрпЛроЯрпНроЯродрпНродрпИроХрпН роХро│рпИропрпЖроЯрпБроХрпНроХ 6 родрпЛроЯрпНроЯроХрпНроХро╛ро░ро░рпНроХро│рпБроХрпНроХрпБ 120 роиро┐рооро┐роЯроЩрпНроХро│рпН родрпЗро╡рпИ. роЕродрпЗ ро╡рпЗро▓рпИропрпИ 30 роиро┐рооро┐роЯроЩрпНроХро│ро┐ро▓рпН роЪрпЖропрпНродрпБ роорпБроЯро┐роХрпНроХ роорпКродрпНродроорпН роОродрпНродройрпИ родрпЛроЯрпНроЯроХрпНроХро╛ро░ро░рпНроХро│рпН родрпЗро╡рпИ?', o: ['18', '24', '30'], a: 1 },
        { q: 'роТро░рпБро╡ро░рпН 12 роХро┐.роорпА/роорогро┐ роЪро░ро╛роЪро░ро┐ ро╡рпЗроХродрпНродро┐ро▓рпН роЪрпЖройрпНро▒ро╛ро▓рпН рокро│рпНро│ро┐ропрпИ роЕроЯрпИроп 20 роиро┐рооро┐роЯроорпН роЖроХро┐ро▒родрпБ. роЕро╡ро░рпН 15 роиро┐рооро┐роЯродрпНродро┐ро▓рпН рокро│рпНро│ро┐ропрпИроЪрпН роЪрпЖройрпНро▒роЯрпИроирпНродро╛ро▓рпН роЕро╡ро│родрпБ роЕродро┐роХро░ро┐родрпНрод ро╡рпЗроХроорпН роОройрпНрой?', o: ['16 роХро┐.роорпА/роорогро┐', '15 роХро┐.роорпА/роорогро┐', '18 роХро┐.роорпА/роорогро┐'], a: 0 },
        { q: 'роТро░рпБ родрпКро┤ро┐ро▒рпНроЪро╛ро▓рпИ 36 роЗропроирпНродро┐ро░роЩрпНроХро│рпИроХрпН роХрпКрогрпНроЯрпБ 54 роиро╛ро│рпНроХро│ро┐ро▓рпН рокрпКроорпНроорпИроХро│рпИ роЙро▒рпНрокродрпНродро┐ роЪрпЖропрпНроХро┐ро▒родрпБ. роЕродрпЗ роЕро│ро╡ро┐ро▓ро╛рой рокрпКроорпНроорпИроХро│рпИ 81 роиро╛ро│рпНроХро│ро┐ро▓рпН роЙро▒рпНрокродрпНродро┐ роЪрпЖропрпНроп роОродрпНродройрпИ роЗропроирпНродро┐ро░роЩрпНроХро│рпН родрпЗро╡рпИ?', o: ['24', '30', '18'], a: 0 },
    ];
    
    const comparisonQuestions = [
        { q: '7 роХро┐.роХро┐ ро╡рпЖроЩрпНроХро╛ропродрпНродро┐ройрпН ро╡ро┐ро▓рпИ тВ╣84 роОройро┐ро▓рпН, 3 роХро┐.роХро┐ ро╡рпЖроЩрпНроХро╛ропродрпНродро┐ройрпН ро╡ро┐ро▓рпИ роОройрпНрой?', o: ['тВ╣36', 'тВ╣42', 'тВ╣30'], a: 0, type: 'роирпЗро░рпН ро╡ро┐роХро┐родроорпН' },
        { q: '12 рокроЪрпБроХрпНроХро│рпН роТро░рпБ рокрпБро▓рпН родро░рпИропрпИ 10 роиро╛ро│рпНроХро│рпН роорпЗропрпНроХро┐ройрпНро▒рой. 20 рокроЪрпБроХрпНроХро│рпН роЕродрпЗ рокрпБро▓рпН родро░рпИропрпИ роОродрпНродройрпИ роиро╛ро│рпНроХро│рпН роорпЗропрпБроорпН?', o: ['8', '15', '6'], a: 2, type: 'роОродро┐ро░рпН ро╡ро┐роХро┐родроорпН' },
        { q: '6 рокро┤ро░роЪрокрпН рокро╛роЯрпНроЯро┐ро▓рпНроХро│ро┐ройрпН ро╡ро┐ро▓рпИ тВ╣210 роОройро┐ро▓рпН, 4 рокро┤ро░роЪрокрпН рокро╛роЯрпНроЯро┐ро▓рпНроХро│ро┐ройрпН ро╡ро┐ро▓рпИ роОройрпНрой?', o: ['тВ╣150', 'тВ╣140', 'тВ╣160'], a: 1, type: 'роирпЗро░рпН ро╡ро┐роХро┐родроорпН' },
        { q: '4 родроЯрпНроЯроЪрпНроЪро░рпНроХро│рпН роТро░рпБ ро╡рпЗро▓рпИропрпИ роорпБроЯро┐роХрпНроХ 12 роиро╛ро│рпНроХро│рпН роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНроХро┐ройрпНро▒ройро░рпН. роорпЗро▓рпБроорпН 2 родроЯрпНроЯроЪрпНроЪро░рпНроХро│рпН роХрпВроЯрпБродро▓ро╛роХроЪрпН роЪрпЗро░рпНроирпНродро╛ро▓рпН (6 рокрпЗро░рпН), роЕродрпЗ ро╡рпЗро▓рпИропрпИ роОродрпНродройрпИ роиро╛ро│рпНроХро│ро┐ро▓рпН роЪрпЖропрпНродрпБ роорпБроЯро┐рокрпНрокро░рпН?', o: ['8', '9', '6'], a: 0, type: 'роОродро┐ро░рпН ро╡ро┐роХро┐родроорпН' },
        { q: '10 ро╡ро┐ро╡роЪро╛ропро┐роХро│рпН 21 роиро╛ро│рпНроХро│ро┐ро▓рпН роТро░рпБ роиро┐ро▓родрпНродрпИ роЙро┤рпБродрпБ роорпБроЯро┐роХрпНроХро┐ройрпНро▒ройро░рпН роОройро┐ро▓рпН, роЕродрпЗ роиро┐ро▓родрпНродрпИ 14 ро╡ро┐ро╡роЪро╛ропро┐роХро│рпН роОродрпНродройрпИ роиро╛ро│рпНроХро│ро┐ро▓рпН роЙро┤рпБродрпБ роорпБроЯро┐рокрпНрокро░рпН?', o: ['15', '18', '12'], a: 0, type: 'роОродро┐ро░рпН ро╡ро┐роХро┐родроорпН' },
        { q: '280 роирокро░рпНроХро│рпН роТро░рпБ ро╡ро┐рооро╛ройродрпНродро┐ро▓рпН 2 роорпБро▒рпИ рокропрогроорпН роЪрпЖропрпНроХро┐ройрпНро▒ройро░рпН роОройро┐ро▓рпН, роЕро╡рпНро╡ро┐рооро╛ройродрпНродро┐ро▓рпН 1400 роирокро░рпНроХро│рпН роОродрпНродройрпИ роорпБро▒рпИ рокропрогроорпН роЪрпЖропрпНропро▓ро╛роорпН?', o: ['8', '12', '10'], a: 2, type: 'роирпЗро░рпН ро╡ро┐роХро┐родроорпН' },
        { q: '50 роирокро░рпНроХро│рпБроХрпНроХрпБ роЗройро┐рокрпНрокрпБ родропро╛ро░ро┐роХрпНроХ 3 роХро┐.роХро┐ роЪро░рпНроХрпНроХро░рпИ родрпЗро╡рпИрокрпНрокроЯрпБроХро┐ро▒родрпБ роОройро┐ро▓рпН, 150 роирокро░рпНроХро│рпБроХрпНроХрпБ роЗройро┐рокрпНрокрпБ родропро╛ро░ро┐роХрпНроХродрпН родрпЗро╡рпИропро╛рой роЪро░рпНроХрпНроХро░рпИропро┐ройрпН роЕро│ро╡рпБ роОройрпНрой?', o: ['9 роХро┐.роХро┐', '6 роХро┐.роХро┐', '10 роХро┐.роХро┐'], a: 0, type: 'роирпЗро░рпН ро╡ро┐роХро┐родроорпН' },
        { q: '6 роирокро░рпНроХро│рпН роТро░рпБ ро╡рпЗро▓рпИропрпИ 12 роиро╛ро│рпНроХро│ро┐ро▓рпН роЪрпЖропрпНродрпБ роорпБроЯро┐роХрпНроХро┐ройрпНро▒ройро░рпН. 2 роиро╛ро│рпНроХро│рпН роХро┤ро┐родрпНродрпБ роорпЗро▓рпБроорпН 6 роирокро░рпНроХро│рпН ро╡роирпНродрпБ роЪрпЗро░рпНроХро┐ро▒ро╛ро░рпНроХро│рпН. роОройро┐ро▓рпН, роорпАродроорпБро│рпНро│ ро╡рпЗро▓рпИропрпИроЪрпН роЪрпЖропрпНроп роОродрпНродройрпИ роиро╛ро│рпНроХро│рпН роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНро╡ро╛ро░рпНроХро│рпН?', o: ['5 роиро╛роЯрпНроХро│рпН', '6 роиро╛роЯрпНроХро│рпН', '4 роиро╛роЯрпНроХро│рпН'], a: 0, type: 'роОродро┐ро░рпН ро╡ро┐роХро┐родроорпН' },
        { q: 'роТро░рпБ роЕроЪрпНроЪрпБ роЗропроирпНродро┐ро░роорпН 1 роиро┐рооро┐роЯродрпНродро┐ро▓рпН 30 рокроХрпНроХроЩрпНроХро│рпН роОрой роЕроЪрпНроЪро┐роЯрпБроХро┐ро▒родрпБ. роЕродрпЗ рокрпБродрпНродроХродрпНродрпИ 1 роиро┐рооро┐роЯродрпНродро┐ро▓рпН 25 рокроХрпНроХроЩрпНроХро│рпН роОрой роЕроЪрпНроЪро┐роЯрпНроЯро╛ро▓рпН, роЕроЪрпНроЪро┐роЯрпНроЯрпБ роорпБроЯро┐роХрпНроХ роЖроХрпБроорпН роирпЗро░роорпН роЕродро┐роХро░ро┐роХрпНроХрпБрооро╛, роХрпБро▒рпИропрпБрооро╛?', o: ['роЕродро┐роХро░ро┐роХрпНроХрпБроорпН', 'роХрпБро▒рпИропрпБроорпН', 'рооро╛ро▒ро╛родрпБ'], a: 0, type: 'роОродро┐ро░рпН ро╡ро┐роХро┐родроорпН' },
        { q: 'роТро░рпБ ро╡ро┐роЯрпБродро┐ропро┐ро▓рпН роЙро│рпНро│ рооро╛рогро╡ро░рпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИропрпБроорпН, роЕро╡ро░рпНроХро│рпН роЙрогрпНрогрпБроорпН роЙрогро╡ро┐ройрпН роЕро│ро╡рпБроорпН роОройрпНрой ро╡ро┐роХро┐родродрпНродро┐ро▓рпН роЗро░рпБроХрпНроХрпБроорпН?', o: ['роирпЗро░рпН ро╡ро┐роХро┐родроорпН', 'роОродро┐ро░рпН ро╡ро┐роХро┐родроорпН', 'ро╡ро┐роХро┐родрооро┐ро▓рпНро▓рпИ'], a: 0, type: 'роирпЗро░рпН ро╡ро┐роХро┐родроорпН' },
    ];

    function createQuizInterface(container, questions, quizId) {
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);

        function renderQuestion() {
            const question = questions[currentQuestionIndex];
            const userAnswer = userAnswers[currentQuestionIndex];
            
            container.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="text-xl font-bold text-gray-700">рокропро┐ро▒рпНроЪро┐</h4>
                        <button id="${quizId}-reset" class="quiz-nav-btn bg-orange-500 hover:bg-orange-600 text-sm">роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐ роЪрпЖропрпН</button>
                    </div>
                    <div class="flex justify-between items-center mb-4">
                        <h5 class="text-lg font-semibold">роХрпЗро│рпНро╡ро┐ ${currentQuestionIndex + 1} / ${questions.length}</h5>
                    </div>
                    <p class="text-lg font-semibold mb-5 h-16">${question.q}</p>
                    <div id="${quizId}-options" class="space-y-3">
                        ${question.o.map((option, index) => `
                            <button 
                                class="quiz-option block w-full text-left p-3 bg-gray-50 rounded-lg border-2 border-transparent hover:bg-indigo-100" 
                                data-index="${index}" ${userAnswer !== null ? 'disabled' : ''}>
                                ${option}
                            </button>
                        `).join('')}
                    </div>
                    <div id="${quizId}-feedback" class="mt-4 text-center font-semibold text-lg h-8"></div>
                    <div class="flex justify-between items-center mt-6">
                        <button id="${quizId}-prev" class="quiz-nav-btn" ${currentQuestionIndex === 0 ? 'disabled' : ''}>роорпБроирпНродрпИроп</button>
                        <button id="${quizId}-check" class="quiz-nav-btn bg-green-600 hover:bg-green-700" ${userAnswer !== null ? 'disabled' : ''}>ро╡ро┐роЯрпИропрпИроЪрпН роЪро░ро┐рокро╛ро░рпН</button>
                        <button id="${quizId}-next" class="quiz-nav-btn" ${currentQuestionIndex === questions.length - 1 ? 'disabled' : ''}>роЕроЯрпБродрпНрод</button>
                    </div>
                </div>
            `;
            if (userAnswer !== null) showResultForQuestion();
        }

        function showResultForQuestion() {
            const question = questions[currentQuestionIndex];
            const userAnswer = userAnswers[currentQuestionIndex];
            const options = container.querySelectorAll('.quiz-option');
            const feedbackEl = container.querySelector(`#${quizId}-feedback`);
            
            options.forEach((btn, index) => {
                btn.disabled = true;
                if (index === question.a) btn.classList.add('correct');
                if (index === userAnswer && userAnswer !== question.a) btn.classList.add('incorrect');
            });

            feedbackEl.textContent = userAnswer === question.a ? 'роЪро░ро┐ропро╛рой ро╡ро┐роЯрпИ! ЁЯОЙ' : 'родро╡ро▒ро╛рой ро╡ро┐роЯрпИ!';
            feedbackEl.classList.add(userAnswer === question.a ? 'text-green-600' : 'text-red-600');
            container.querySelector(`#${quizId}-check`).disabled = true;
        }

        container.addEventListener('click', (e) => {
            const target = e.target;
            if (target.classList.contains('quiz-option') && userAnswers[currentQuestionIndex] === null) {
                container.querySelectorAll('.quiz-option').forEach(btn => btn.classList.remove('selected', 'border-indigo-500'));
                target.classList.add('selected', 'border-indigo-500');
                container.querySelector(`#${quizId}-check`).disabled = false;
            } else if (target.id === `${quizId}-prev`) {
                currentQuestionIndex--;
                renderQuestion();
            } else if (target.id === `${quizId}-next`) {
                currentQuestionIndex++;
                renderQuestion();
            } else if (target.id === `${quizId}-check`) {
                const selectedOption = container.querySelector('.quiz-option.selected');
                const feedbackEl = container.querySelector(`#${quizId}-feedback`);
                
                if (selectedOption) {
                    userAnswers[currentQuestionIndex] = parseInt(selectedOption.dataset.index);
                    showResultForQuestion();
                } else {
                    // Flash message logic
                    feedbackEl.textContent = 'родропро╡рпБроЪрпЖропрпНродрпБ роТро░рпБ ро╡ро┐роЯрпИропрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН!';
                    feedbackEl.className = 'mt-4 text-center font-semibold text-lg h-8 text-orange-500';
                    setTimeout(() => {
                        if (feedbackEl.textContent === 'родропро╡рпБроЪрпЖропрпНродрпБ роТро░рпБ ро╡ро┐роЯрпИропрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН!') {
                           feedbackEl.textContent = '';
                           feedbackEl.className = 'mt-4 text-center font-semibold text-lg h-8';
                        }
                    }, 2000);
                }
            } else if (target.id === `${quizId}-reset`) {
                currentQuestionIndex = 0;
                userAnswers.fill(null);
                renderQuestion();
            }
        });
        renderQuestion();
    }
    
    document.getElementById('direct-content').innerHTML = `
        <div class="simulation-card">
            <h2 class="text-2xl md:text-3xl font-bold mb-4 text-center text-green-600">роирпЗро░рпН ро╡ро┐роХро┐родроорпН</h2>
            <p class="text-center text-lg mb-6">роУро░рпН роЕро│ро╡рпБ роЕродро┐роХро░ро┐роХрпНроХрпБроорпНрокрпЛродрпБ роЕродройрпБроЯройрпН родрпКроЯро░рпНрокрпБроЯрпИроп рооро▒рпНро▒рпКро░рпБ роЕро│ро╡рпБроорпН роЕродрпЗ ро╡ро┐роХро┐родродрпНродро┐ро▓рпН роЕродро┐роХро░ро┐родрпНродро╛ро▓рпН, роЕродрпБ роирпЗро░рпН ро╡ро┐роХро┐родроорпН роОройрокрпНрокроЯрпБроорпН.</p>
            <div class="grid md:grid-cols-2 gap-8 items-center mb-10">
                <div>
                    <h3 class="text-xl font-semibold mb-4 text-center">роЙродро╛ро░рогроорпН: рокрпЗройро╛роХрпНроХро│рпН ро╡ро╛роЩрпНроХрпБродро▓рпН</h3>
                    <p class="text-center mb-4">роТро░рпБ рокрпЗройро╛ро╡ро┐ройрпН ро╡ро┐ро▓рпИ: <span class="font-bold">тВ╣10</span></p>
                    <label for="direct-slider" class="font-semibold">рокрпЗройро╛роХрпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИ: <span id="direct-count" class="font-bold text-indigo-700 text-xl">1</span></label>
                    <input type="range" min="1" max="10" value="1" class="slider" id="direct-slider">
                    <div class="mt-6 p-4 bg-green-100 rounded-lg text-center"><p class="text-lg">роорпКродрпНрод ро╡ро┐ро▓рпИ (y): <span id="direct-total" class="font-bold text-2xl text-green-700">тВ╣10</span></p></div>
                    <div class="mt-6 p-4 bg-gray-100 rounded-lg text-center"><p class="text-lg">ро╡ро┐роХро┐род рооро╛ро▒ро┐ро▓ро┐ (k = y/x): <span id="direct-constant" class="font-bold text-2xl text-gray-700">10</span></p></div>
                </div>
                <div>
                    <h3 class="text-xl font-semibold mb-4 text-center">роХро╛роЯрпНроЪро┐ ро╡ро┐ро│роХрпНроХроорпН</h3>
                    <p class="text-center mb-2">рокрпЗройро╛роХрпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИ (x)</p>
                    <div id="direct-visual" class="visual-container mb-4 text-2xl"></div>
                    <p class="text-center mb-2">ро╡ро┐ро▓рпИ ро╡ро░рпИрокроЯроорпН</p>
                    <div class="w-full h-40 bg-gray-50 rounded-lg p-2 flex items-end justify-center gap-2"><div id="direct-graph" class="graph-bar" style="width: 10%; height: 10%;"></div></div>
                </div>
            </div>
            <div id="direct-quiz"></div>
        </div>
    `;
    createQuizInterface(document.getElementById('direct-quiz'), directQuestions, 'direct-quiz');
    
    document.getElementById('inverse-content').innerHTML = `
        <div class="simulation-card">
            <h2 class="text-2xl md:text-3xl font-bold mb-4 text-center text-red-600">роОродро┐ро░рпН ро╡ро┐роХро┐родроорпН</h2>
            <p class="text-center text-lg mb-6">роУро░рпН роЕро│ро╡рпБ роЕродро┐роХро░ро┐роХрпНроХрпБроорпНрокрпЛродрпБ роЕродройрпБроЯройрпН родрпКроЯро░рпНрокрпБроЯрпИроп рооро▒рпНро▒рпКро░рпБ роЕро│ро╡рпБ роЕродрпЗ ро╡ро┐роХро┐родродрпНродро┐ро▓рпН роХрпБро▒рпИроирпНродро╛ро▓рпН (роЕро▓рпНро▓родрпБ роирпЗро░рпНрооро╛ро▒ро╛роХ), роЕродрпБ роОродро┐ро░рпН ро╡ро┐роХро┐родроорпН роОройрокрпНрокроЯрпБроорпН.</p>
            <div class="grid md:grid-cols-2 gap-8 items-center mb-10">
                <div>
                    <h3 class="text-xl font-semibold mb-4 text-center">роЙродро╛ро░рогроорпН: роТро░рпБ ро╡рпЗро▓рпИропрпИ роорпБроЯро┐родрпНродро▓рпН</h3>
                    <p class="text-center mb-4">роорпБроЯро┐роХрпНроХ ро╡рпЗрогрпНроЯро┐роп роорпКродрпНрод ро╡рпЗро▓рпИ: <span class="font-bold">120 роЕро▓роХрпБроХро│рпН</span></p>
                    <label for="inverse-slider" class="font-semibold">ро╡рпЗро▓рпИропро╛роЯрпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИ (x): <span id="inverse-count" class="font-bold text-indigo-700 text-xl">2</span></label>
                    <input type="range" min="0" max="9" value="0" class="slider" id="inverse-slider">
                    <div class="mt-6 p-4 bg-red-100 rounded-lg text-center"><p class="text-lg">родрпЗро╡рпИропро╛рой роиро╛роЯрпНроХро│рпН (y): <span id="inverse-total" class="font-bold text-2xl text-red-700">60 роиро╛роЯрпНроХро│рпН</span></p></div>
                    <div class="mt-6 p-4 bg-gray-100 rounded-lg text-center"><p class="text-lg">рокрпЖро░рпБроХрпНроХро▓рпН рооро╛ро▒ро┐ро▓ро┐ (k = x * y): <span id="inverse-constant" class="font-bold text-2xl text-gray-700">120</span></p></div>
                </div>
                <div>
                    <h3 class="text-xl font-semibold mb-4 text-center">роХро╛роЯрпНроЪро┐ ро╡ро┐ро│роХрпНроХроорпН</h3>
                    <p class="text-center mb-2">ро╡рпЗро▓рпИропро╛роЯрпНроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИ (x)</p>
                    <div id="inverse-visual" class="visual-container mb-4 text-2xl"></div>
                    <p class="text-center mb-2">роирпЗро░ ро╡ро░рпИрокроЯроорпН</p>
                    <div class="w-full h-40 bg-gray-50 rounded-lg p-2 flex items-end justify-center gap-2"><div id="inverse-graph" class="graph-bar bg-red-500" style="width: 10%; height: 100%;"></div></div>
                </div>
            </div>
            <div id="inverse-quiz"></div>
        </div>
    `;
    createQuizInterface(document.getElementById('inverse-quiz'), inverseQuestions, 'inverse-quiz');

    document.getElementById('comparison-content').innerHTML = `
        <div class="simulation-card">
            <h2 class="text-2xl md:text-3xl font-bold mb-6 text-center text-purple-600">роХро▓рокрпНрокрпБроХрпН роХрогроХрпНроХрпБроХро│рпН</h2>
            <p class="text-center text-lg mb-6">роХрпАро┤рпЗ роХрпКроЯрпБроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│ роХрогроХрпНроХрпБроХро│рпН роирпЗро░рпН ро╡ро┐роХро┐родрооро╛ роЕро▓рпНро▓родрпБ роОродро┐ро░рпН ро╡ро┐роХро┐родрооро╛ роОройроЪрпН роЪро┐роирпНродро┐родрпНродрпБ ро╡ро┐роЯрпИропро│ро┐роХрпНроХро╡рпБроорпН.</p>
            <div id="comparison-quiz"></div>
        </div>
    `;
    createQuizInterface(document.getElementById('comparison-quiz'), comparisonQuestions, 'comparison-quiz');

    const tabs = document.getElementById('tabs');
    const tabButtons = tabs.querySelectorAll('.tab-button');
    const tabPanes = document.querySelectorAll('.tab-pane');
    tabs.addEventListener('click', (e) => {
        if (e.target.classList.contains('tab-button')) {
            const targetTab = e.target.dataset.tab;
            tabButtons.forEach(btn => btn.classList.remove('active'));
            e.target.classList.add('active');
            tabPanes.forEach(pane => pane.classList.toggle('hidden', pane.id !== `${targetTab}-content`));
        }
    });

    const ratioSlider1 = document.getElementById('ratio-slider-1');
    if (ratioSlider1) {
        const ratioSlider2 = document.getElementById('ratio-slider-2');
        const ratioCount1 = document.getElementById('ratio-count-1');
        const ratioCount2 = document.getElementById('ratio-count-2');
        const ratioVisual1 = document.getElementById('ratio-visual-1');
        const ratioVisual2 = document.getElementById('ratio-visual-2');
        const ratioText = document.getElementById('ratio-text');
        const updateRatio = () => {
            const count1 = parseInt(ratioSlider1.value);
            const count2 = parseInt(ratioSlider2.value);
            ratioCount1.textContent = count1;
            ratioCount2.textContent = count2;
            ratioVisual1.innerHTML = 'ЁЯНО'.repeat(count1);
            ratioVisual2.innerHTML = 'ЁЯНМ'.repeat(count2);
            ratioText.textContent = `${count1} : ${count2}`;
        };
        ratioSlider1.addEventListener('input', updateRatio);
        ratioSlider2.addEventListener('input', updateRatio);
        updateRatio();
    }

    const propSliderA = document.getElementById('prop-slider-a');
    if (propSliderA) {
        const sliders = { a: propSliderA, b: document.getElementById('prop-slider-b'), c: document.getElementById('prop-slider-c'), d: document.getElementById('prop-slider-d') };
        const counts = { a: document.getElementById('prop-count-a'), b: document.getElementById('prop-count-b'), c: document.getElementById('prop-count-c'), d: document.getElementById('prop-count-d') };
        const visuals = { a: document.getElementById('prop-visual-a'), b: document.getElementById('prop-visual-b'), c: document.getElementById('prop-visual-c'), d: document.getElementById('prop-visual-d') };
        const proportionResult = document.getElementById('proportion-result');
        const emojis = { a: 'ЁЯНО', b: 'ЁЯНМ', c: 'ЁЯНК', d: 'ЁЯНЗ' };
        const updateProportion = () => {
            const values = { a: parseInt(sliders.a.value), b: parseInt(sliders.b.value), c: parseInt(sliders.c.value), d: parseInt(sliders.d.value) };
            ['a', 'b', 'c', 'd'].forEach(key => {
                counts[key].textContent = values[key];
                visuals[key].innerHTML = emojis[key].repeat(values[key]);
            });
            const extremesProduct = values.a * values.d;
            const meansProduct = values.b * values.c;
            if (extremesProduct === meansProduct) {
                proportionResult.className = 'mt-4 p-3 rounded-lg text-center w-full bg-green-100 text-green-800 transition-all duration-300';
                proportionResult.innerHTML = `<p class="text-lg font-bold">тЬЕ ро╡ро┐роХро┐родроЪрпНроЪроородрпНродро┐ро▓рпН роЙро│рпНро│родрпБ</p><p class="mt-1 text-sm">роХрпЛроЯро┐ роЙро▒рпБрокрпНрокрпБроХро│рпН (a ├Ч d): ${values.a} ├Ч ${values.d} = <b>${extremesProduct}</b></p><p class="text-sm">роироЯрпБ роЙро▒рпБрокрпНрокрпБроХро│рпН (b ├Ч c): ${values.b} ├Ч ${values.c} = <b>${meansProduct}</b></p>`;
            } else {
                proportionResult.className = 'mt-4 p-3 rounded-lg text-center w-full bg-red-100 text-red-800 transition-all duration-300';
                proportionResult.innerHTML = `<p class="text-lg font-bold">тЭМ ро╡ро┐роХро┐родроЪрпНроЪроородрпНродро┐ро▓рпН роЗро▓рпНро▓рпИ</p><p class="mt-1 text-sm">роХрпЛроЯро┐ роЙро▒рпБрокрпНрокрпБроХро│рпН (a ├Ч d): ${values.a} ├Ч ${values.d} = <b>${extremesProduct}</b></p><p class="text-sm">роироЯрпБ роЙро▒рпБрокрпНрокрпБроХро│рпН (b ├Ч c): ${values.b} ├Ч ${values.c} = <b>${meansProduct}</b></p>`;
            }
        };
        Object.values(sliders).forEach(slider => slider.addEventListener('input', updateProportion));
        updateProportion();
    }

    const directSlider = document.getElementById('direct-slider');
    if (directSlider) {
        const directCount = document.getElementById('direct-count');
        const directTotal = document.getElementById('direct-total');
        const directVisual = document.getElementById('direct-visual');
        const directGraph = document.getElementById('direct-graph');
        const directConstant = document.getElementById('direct-constant');
        const pricePerPen = 10;
        const updateDirectProportion = () => {
            const count = parseInt(directSlider.value);
            const total = count * pricePerPen;
            directCount.textContent = count;
            directTotal.textContent = `тВ╣${total}`;
            directConstant.textContent = total / count;
            directVisual.innerHTML = 'тЬТя╕П'.repeat(count);
            directGraph.style.height = `${(count / parseInt(directSlider.max)) * 100}%`;
        };
        directSlider.addEventListener('input', updateDirectProportion);
        updateDirectProportion();
    }

    const inverseSlider = document.getElementById('inverse-slider');
    if (inverseSlider) {
        const factorsOf120 = [2, 3, 4, 5, 6, 8, 10, 12, 15, 20];
        const inverseCount = document.getElementById('inverse-count');
        const inverseTotal = document.getElementById('inverse-total');
        const inverseVisual = document.getElementById('inverse-visual');
        const inverseGraph = document.getElementById('inverse-graph');
        const inverseConstant = document.getElementById('inverse-constant');
        const totalWork = 120;
        
        const updateInverseProportion = () => {
            const sliderIndex = parseInt(inverseSlider.value);
            const count = factorsOf120[sliderIndex];
            const days = totalWork / count;
            
            inverseCount.textContent = count;
            inverseTotal.textContent = `${days} роиро╛роЯрпНроХро│рпН`;
            inverseConstant.textContent = totalWork;
            inverseVisual.innerHTML = 'ЁЯС╖'.repeat(count);
            
            const maxDays = totalWork / factorsOf120[0]; // days for minimum workers
            const graphHeight = (days / maxDays) * 100;
            inverseGraph.style.height = `${graphHeight}%`;
        };
        inverseSlider.addEventListener('input', updateInverseProportion);
        updateInverseProportion();
    }
});
</script>
</body>
</html>
